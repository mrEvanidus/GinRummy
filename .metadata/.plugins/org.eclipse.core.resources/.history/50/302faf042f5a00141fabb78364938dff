package com.example.ginrummy;

import java.util.ArrayList;
import gameObjects.*;
import Animation.*;
import android.graphics.*;
import android.view.MotionEvent;

public class CardAnimator implements Animation.Animator {

	private static final int FRAME_INTERVAL = 10;
	private static final int BACKGROUND_COLOR = 0xff278734;
	
	private ArrayList<CardPath> paths;
	protected Card card;
	protected RectF cardPos;
	private PointF cardDimensions;
	
	public CardAnimator() {
		super();
		cardDimensions = new PointF(261, 379);
		paths = new ArrayList<CardPath>();
	}
	
	@Override
	public int interval() {
		return FRAME_INTERVAL;
	}

	@Override
	public int backgroundColor() {
		return BACKGROUND_COLOR;
	}

	@Override
	public boolean doPause() {
		return false;
	}

	@Override
	public boolean doQuit() {
		return false;
	}

	@Override
	public void tick(Canvas canvas) {
		// TODO Auto-generated method stub
		
		if (card != null && cardPos != null) card.drawOn(canvas, cardPos);
	}

	@Override
	public void onTouch(MotionEvent event) {
		// TODO Auto-generated method stub
		
		int x = (int)(event.getX());
		int y = (int)(event.getY());
		
		card = new Card(Rank.ACE, Suit.Spade);
		cardPos = new RectF(x,y,x + cardDimensions.x, y + cardDimensions.y);
	}
	
	public void slideCard(CardPath path, int destX, int destY) {
		//calculate the distance along the path in x and y
		int orgX = (int)cardPos.left;
		int orgY = (int)cardPos.right;
	}

}
